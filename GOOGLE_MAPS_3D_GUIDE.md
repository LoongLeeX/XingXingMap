# ğŸŒ Google Maps 3D ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¦‚è¿°

Google Maps 3D ä½¿ç”¨æ–°çš„ `Map3DElement` APIï¼Œä¸ä¼ ç»Ÿçš„ 2D åœ°å›¾ API ä¸åŒã€‚

## ğŸ”‘ API å·®å¼‚

### ä¼ ç»Ÿ 2D åœ°å›¾ API
```javascript
const map = new google.maps.Map(container, {
  center: { lat: 37.7704, lng: -122.3985 },
  zoom: 15,
  mapTypeId: 'satellite'
});
```

### æ–°çš„ 3D åœ°å›¾ API (Map3DElement)
```javascript
const { Map3DElement } = await google.maps.importLibrary("maps3d");

const map3D = new Map3DElement({
  center: {
    lat: 37.7704,
    lng: -122.3985,
    altitude: 500  // 3D éœ€è¦é«˜åº¦
  },
  tilt: 67.5,
  heading: 0,
  range: 1000,     // è§†è·
  mode: 'HYBRID'   // 'HYBRID' æˆ– 'UNLIT'
});

container.appendChild(map3D);
```

## âš™ï¸ é…ç½®å‚æ•°

### center
```javascript
{
  lat: number,      // çº¬åº¦
  lng: number,      // ç»åº¦
  altitude: number  // é«˜åº¦ï¼ˆç±³ï¼‰ï¼Œ3D ç‰¹æœ‰
}
```

### tilt
- ç±»å‹: `number`
- èŒƒå›´: 0-90 åº¦
- è¯´æ˜: åœ°å›¾å€¾æ–œè§’åº¦ï¼Œ0 ä¸ºä¿¯è§†ï¼Œ90 ä¸ºå¹³è§†
- æ¨è: 67.5 åº¦

### heading
- ç±»å‹: `number`
- èŒƒå›´: 0-360 åº¦
- è¯´æ˜: åœ°å›¾æ—‹è½¬è§’åº¦ï¼Œ0 ä¸ºæ­£åŒ—

### range
- ç±»å‹: `number`
- å•ä½: ç±³
- è¯´æ˜: ç›¸æœºåˆ°ä¸­å¿ƒç‚¹çš„è·ç¦»ï¼ˆè§†è·ï¼‰

### mode
- `'HYBRID'`: æ··åˆæ¨¡å¼ï¼Œæ˜¾ç¤ºå»ºç­‘å’Œæ ‡æ³¨
- `'UNLIT'`: æ— å…‰ç…§æ¨¡å¼

## ğŸš€ å¯ç”¨ 3D åœ°å›¾çš„æ­¥éª¤

### 1. å¯ç”¨å¿…éœ€çš„ API

åœ¨ Google Cloud Console ä¸­å¯ç”¨ï¼š
- âœ… **Maps JavaScript API**
- âœ… **Map Tiles API** (3D åœ°å›¾å¿…éœ€)
- âœ… **Places API** (å¦‚æœä½¿ç”¨æœç´¢)

### 2. åˆ›å»º Map IDï¼ˆå¯é€‰ï¼‰

è™½ç„¶ `Map3DElement` ä¸éœ€è¦ Map IDï¼Œä½†å¦‚æœè¦ä½¿ç”¨æ··åˆæ¨¡å¼ï¼ˆ2D+3Dï¼‰ï¼Œå¯èƒ½éœ€è¦é…ç½®ã€‚

1. è®¿é—® [Map Management](https://console.cloud.google.com/google/maps-apis/studio/maps)
2. åˆ›å»ºæ–°çš„ Map ID
3. é…ç½®åœ°å›¾æ ·å¼ï¼ˆå¯é€‰ï¼‰

### 3. é…ç½®ç¯å¢ƒå˜é‡

```env
# Google Maps API Keyï¼ˆå¿…éœ€ï¼‰
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_api_key

# Map IDï¼ˆå¯é€‰ï¼Œç”¨äºé«˜çº§åŠŸèƒ½ï¼‰
NEXT_PUBLIC_GOOGLE_MAPS_MAP_ID=your_map_id
```

## ğŸ¯ æ”¯æŒçš„åŸå¸‚

3D åœ°å›¾å¹¶éå…¨çƒè¦†ç›–ï¼Œç›®å‰æ”¯æŒçš„ä¸»è¦åŸå¸‚åŒ…æ‹¬ï¼š

### åŒ—ç¾
- æ—§é‡‘å±±ã€æ´›æ‰çŸ¶ã€çº½çº¦ã€èŠåŠ å“¥ã€æ‹‰æ–¯ç»´åŠ æ–¯ç­‰

### æ¬§æ´²
- ä¼¦æ•¦ã€å·´é»ã€ç½—é©¬ã€æŸæ—ã€é˜¿å§†æ–¯ç‰¹ä¸¹ç­‰

### äºšæ´²
- ä¸œäº¬ã€é¦–å°”ã€æ–°åŠ å¡ã€é¦™æ¸¯ã€å°åŒ—ç­‰
- **ä¸­å›½å¤§é™†åŸå¸‚æ”¯æŒæœ‰é™**

### å…¶ä»–
- æ‚‰å°¼ã€å¢¨å°”æœ¬ç­‰

**æŸ¥çœ‹æ”¯æŒçš„åŸå¸‚**: [Google Maps Platform Coverage](https://developers.google.com/maps/coverage)

## ğŸ” åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | 2D åœ°å›¾ (google.maps.Map) | 3D åœ°å›¾ (Map3DElement) |
|------|---------------------------|------------------------|
| å…¨çƒè¦†ç›– | âœ… å®Œå…¨æ”¯æŒ | âš ï¸ éƒ¨åˆ†åŸå¸‚ |
| æ ‡è®° (Markers) | âœ… å®Œå…¨æ”¯æŒ | âŒ ä¸æ”¯æŒ* |
| ä¿¡æ¯çª—å£ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ* |
| ç»˜å›¾å·¥å…· | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| 3D å»ºç­‘ | âš ï¸ æœ‰é™ | âœ… å®Œå…¨æ”¯æŒ |
| å€¾æ–œæ—‹è½¬ | âš ï¸ æœ‰é™ | âœ… å®Œå…¨æ”¯æŒ |
| å…‰ç…§æ•ˆæœ | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |

*æ³¨æ„: Map3DElement æ˜¯ä¸€ä¸ª Web Componentï¼Œä¸æ”¯æŒä¼ ç»Ÿçš„ 2D åœ°å›¾ APIï¼ˆå¦‚ Markersï¼‰ã€‚

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### ä½•æ—¶ä½¿ç”¨ 3D åœ°å›¾ï¼Ÿ
- âœ… éœ€è¦å±•ç¤ºå»ºç­‘ç‰©ç»†èŠ‚
- âœ… éœ€è¦ä¸åŒè§†è§’ï¼ˆå€¾æ–œã€æ—‹è½¬ï¼‰
- âœ… ç›®æ ‡ä½ç½®åœ¨æ”¯æŒçš„åŸå¸‚
- âœ… çº¯å±•ç¤ºç”¨é€”ï¼Œä¸éœ€è¦äº¤äº’æ ‡è®°

### ä½•æ—¶ä½¿ç”¨ 2D åœ°å›¾ï¼Ÿ
- âœ… éœ€è¦æ·»åŠ æ ‡è®°å’Œä¿¡æ¯çª—å£
- âœ… éœ€è¦å…¨çƒä»»æ„ä½ç½®
- âœ… éœ€è¦ç»˜å›¾å’Œæµ‹é‡å·¥å…·
- âœ… éœ€è¦å¤æ‚çš„äº¤äº’åŠŸèƒ½

### æ¨èæ–¹æ¡ˆï¼šåˆ†å±å¯¹æ¯”
```
æœ¬é¡¹ç›®é‡‡ç”¨çš„æ–¹æ¡ˆï¼š
- å·¦ä¾§ï¼š2D å«æ˜Ÿåœ°å›¾ï¼ˆæ”¯æŒæ ‡è®°å’Œäº¤äº’ï¼‰
- å³ä¾§ï¼š3D çœŸå®æ„Ÿåœ°å›¾ï¼ˆå±•ç¤ºå»ºç­‘ç»†èŠ‚ï¼‰
- ä¼˜åŠ¿ï¼šä¸¤è€…äº’è¡¥ï¼Œæœ€ä½³ç”¨æˆ·ä½“éªŒ
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: 3D åœ°å›¾ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Map Tiles API æ˜¯å¦å·²å¯ç”¨
2. å½“å‰ä½ç½®æ˜¯å¦æ”¯æŒ 3Dï¼ˆå°è¯•æ—§é‡‘å±±: 37.7704, -122.3985ï¼‰
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### Q: å¦‚ä½•åœ¨ 3D åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°ï¼Ÿ
**A**: Map3DElement ä¸æ”¯æŒä¼ ç»Ÿçš„ `google.maps.Marker`ã€‚å»ºè®®ä½¿ç”¨åˆ†å±æ¨¡å¼ï¼Œåœ¨ 2D åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°ã€‚

### Q: 3D åœ°å›¾æ€§èƒ½é—®é¢˜ï¼Ÿ
**A**: 3D åœ°å›¾éœ€è¦æ›´å¤šæ€§èƒ½ï¼š
- ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Edge æœ€ä½³ï¼‰
- ç¡®ä¿ç¡¬ä»¶åŠ é€Ÿå·²å¯ç”¨
- é¿å…åŒæ—¶æ¸²æŸ“å¤šä¸ª 3D åœ°å›¾

### Q: å¯ä»¥æ§åˆ¶ 3D åœ°å›¾çš„è§†è§’å—ï¼Ÿ
**A**: å¯ä»¥é€šè¿‡ä¿®æ”¹ä»¥ä¸‹å±æ€§ï¼š
```javascript
map3D.center = { lat, lng, altitude };
map3D.tilt = 67.5;
map3D.heading = 45;
map3D.range = 1000;
```

## ğŸ“š å‚è€ƒèµ„æº

- [Map3DElement æ–‡æ¡£](https://developers.google.com/maps/documentation/javascript/3d-tiles)
- [3D Maps ç¤ºä¾‹](https://developers.google.com/maps/documentation/javascript/examples/3d-overview)
- [è¿ç§»æŒ‡å—](https://developers.google.com/maps/documentation/javascript/3d-migration)

## ğŸ¨ æœ¬é¡¹ç›®å®ç°

æœ¬é¡¹ç›®åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­å®ç°äº† 3D åœ°å›¾ï¼š
- `features/map/hooks/use3DMap.ts` - 3D åœ°å›¾ Hook
- `features/map/components/Map3D.tsx` - 3D åœ°å›¾ç»„ä»¶
- `features/map/components/SplitView.tsx` - 2D/3D åˆ†å±å¯¹æ¯”

---

**æœ€åæ›´æ–°**: 2025-10-03  
**Google Maps Platform ç‰ˆæœ¬**: Latest (weekly)

