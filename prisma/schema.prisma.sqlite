// Prisma Schema - 本地开发配置（SQLite）
// 
// 这是本地开发使用 SQLite 的备用配置
// 如果你想在本地使用 SQLite 而不是 PostgreSQL：
// 1. 将此文件重命名为 schema.prisma
// 2. 备份当前的 schema.prisma
// 
// 注意：生产环境使用 PostgreSQL，建议本地也使用 PostgreSQL 保持一致

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// 标记表
model Marker {
  id          String   @id @default(cuid())
  title       String
  description String?
  latitude    Float
  longitude   Float
  images      String   @default("")  // SQLite 使用 JSON 字符串
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([latitude, longitude])
  @@map("markers")
}

// 未来可能需要的表

// 用户表 (如果需要认证)
// model User {
//   id        String   @id @default(cuid())
//   email     String   @unique
//   name      String?
//   password  String
//   markers   Marker[] @relation("UserMarkers")
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   @@map("users")
// }

// 标记分类表 (未来扩展)
// model Category {
//   id        String   @id @default(cuid())
//   name      String   @unique
//   color     String?
//   markers   Marker[] @relation("CategoryMarkers")
//   createdAt DateTime @default(now())
//   @@map("categories")
// }
